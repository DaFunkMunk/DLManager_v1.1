<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distribution List Copilot</title>
  <link rel="stylesheet" href="styles.css">
  <script defer src="/app.js"></script>
</head>
<body>
  <main class="copilot-wrapper">
    <section id="demoPanel" class="demo-panel">
      <header class="demo-panel-header">
        <h1>Distribution List Copilot</h1>
        <div id="demoStatus" class="demo-status demo-status--info">Select a group to begin.</div>
      </header>

      <div class="demo-form">
        <div class="demo-field demo-field--full">
          <label for="demoGroupSelect">Group</label>
          <select id="demoGroupSelect">
            <option value="" selected disabled>Select a group...</option>
          </select>
        </div>
        <div class="demo-field">
          <label for="demoAction">Action</label>
          <select id="demoAction">
            <option value="add" selected>Add</option>
            <option value="remove">Remove</option>
          </select>
        </div>
        <div class="demo-field">
          <label for="demoRuleSelect">Rule</label>
          <select id="demoRuleSelect">
            <option value="User">User</option>
            <option value="Tree">Tree</option>
            <option value="Location">Location</option>
          </select>
        </div>
        <div class="demo-field">
          <label for="demoValueSelect">Value</label>
          <select id="demoValueSelect">
            <option value="" selected disabled>Select a value...</option>
          </select>
        </div>
      </div>

      <div class="demo-summary">
        <table>
          <thead>
            <tr>
              <th>Action</th>
              <th>Rule</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody id="demoSummaryBody">
            <tr>
              <td colspan="3" class="status-empty">Select a group to see the pending change.</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="demo-actions">
        <button id="demoProposeBtn" type="button" class="btn btn--primary">Propose</button>
        <button id="demoApplyBtn" type="button" class="btn btn--primary" disabled>Confirm</button>
        <button id="toggleLogsBtn" type="button" class="btn btn--ghost log-btn">Show Logs</button>
      </div>

      <div id="demoProposeResult" class="demo-preview hidden">
        <p class="demo-preview-title">Preview Changes</p>
        <ul id="demoResultList"></ul>
        <div class="demo-policy hidden">
          <strong>Policy Notes</strong>
          <ul id="demoPolicyNotes"></ul>
        </div>
      </div>

      <section class="demo-audit">
        <h2>Audit Trail</h2>
        <table>
          <thead>
            <tr>
              <th>When</th>
              <th>Actor</th>
              <th>Operation</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="demoAuditBody">
            <tr>
              <td colspan="4" class="status-empty">No audit entries yet.</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
  </main>

  <aside id="logPanel" class="log-panel">
    <div class="log-panel-header">
      <h2>Activity Log</h2>
      <button id="hideLogsBtn" type="button" class="btn log-panel-close">Hide Logs</button>
    </div>
    <pre id="logContent"></pre>
  </aside>
</body>
</html>
